import { POIS_REQUEST, POIS_FAIL, POIS_SUCCESS, POI_INCIDENTCONDITIONS_REQUEST, POI_INCIDENTCONDITIONS_FAIL, POI_INCIDENTCONDITIONS_SUCCESS, POI_REQUEST, POI_SUCCESS, POI_FAIL, POI_IMAGE_SUCCESS, POI_IMAGE_FAIL, POI_IMAGE_REQUEST, POI_ADDRESS_REQUEST, POI_ADDRESS_SUCCESS, POI_ADDRESS_FAIL, POI_WARNINGFLAGS_REQUEST, POI_WARNINGFLAGS_FAIL, POI_WARNINGFLAGS_SUCCESS, POI_PHONENUMBERS_FAIL, POI_PHONENUMBERS_REQUEST, POI_PHONENUMBERS_SUCCESS, POI_EMAIL_REQUEST, POI_EMAIL_SUCCESS, POI_EMAIL_FAIL, POI_VEHICLE_REQUEST, POI_VEHICLE_SUCCESS, POI_VEHICLE_FAIL, POI_LICENCE_REQUEST, POI_LICENCE_SUCCESS, POI_LICENCE_FAIL, POI_SOCIAL_MEDIA_REQUEST, POI_SOCIAL_MEDIA_SUCCESS, POI_SOCIAL_MEDIA_FAIL, POI_PHONENUMBER_ADD_REQUEST, POI_PHONENUMBER_ADD_SUCCESS, POI_PHONENUMBER_ADD_FAIL, POI_EMAIL_ADD_REQUEST, POI_EMAIL_ADD_SUCCESS, POI_EMAIL_ADD_FAIL, POI_VEHICLE_ADD_REQUEST, POI_VEHICLE_ADD_SUCCESS, POI_VEHICLE_ADD_FAIL, POI_LICENCE_ADD_FAIL, POI_LICENCE_ADD_SUCCESS, POI_LICENCE_ADD_REQUEST, POI_LICENCE_DELETE_REQUEST, POI_LICENCE_DELETE_SUCCESS, POI_LICENCE_DELETE_FAIL, POI_SOCIAL_MEDIA_ADD_REQUEST, POI_SOCIAL_MEDIA_ADD_SUCCESS, POI_SOCIAL_MEDIA_ADD_FAIL } from "../constants/POIConstants";
import axios from 'axios';
 

const { REACT_APP_BACKEND_URL } = process.env;

const request= (requestType, succcessType, failType, url) => async (dispatch) => {
    dispatch({
        type: requestType,
    });

    axios.get(url).then((response) => {            
        dispatch({ 
            type: succcessType,
            payload: response.data
        });
    })
    .catch((error) => {
        dispatch({
            type: failType,
            payload: error.response && error.response.data.message ? error.response.data.message : error.message,
        })
    });
};
export const fetchPOIs = request(POIS_REQUEST,POIS_SUCCESS,POIS_FAIL,`${REACT_APP_BACKEND_URL}/pois`);
export const fetchPOI = (id) => request(POI_REQUEST,POI_SUCCESS,POI_FAIL,`${REACT_APP_BACKEND_URL}/pois/${id}`);
